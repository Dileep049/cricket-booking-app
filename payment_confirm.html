<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UPI Payment & Scanner</title>
    <style>
        body { background: #0f0f0f; color: white; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .pay-card { background: #1e1e1e; padding: 25px; border-radius: 20px; width: 360px; border: 1px solid #76ba1b; text-align: center; }
        .qr-box { background: white; padding: 15px; border-radius: 12px; margin: 20px auto; width: 180px; height: 180px; }
        .qr-box img { width: 100%; height: 100%; }
        .amount-tag { font-size: 24px; font-weight: bold; color: #76ba1b; margin: 10px 0; }
        .upi-apps { display: flex; justify-content: space-around; margin-top: 25px; }
        .app-btn { background: #222; border: 1px solid #333; padding: 10px; border-radius: 10px; cursor: pointer; width: 80px; }
        .app-btn:hover { border-color: #76ba1b; }
        .app-btn img { width: 35px; display: block; margin: 0 auto 5px; }
        .app-btn span { font-size: 11px; color: #bbb; }
        .btn-done { background: #76ba1b; color: white; padding: 15px; width: 100%; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 25px; }
    </style>
</head>
<body>
    <div class="pay-card">
        <h3 style="margin:0;">Scan & Pay</h3>
        <p style="color:#888; font-size:13px;">Scan this QR to complete booking</p>
        
        <div class="qr-box">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=CricBookPayment" alt="QR Code">
        </div>
        
        <div class="amount-tag" id="displayAmt">₹0</div>

        <p style="font-size:12px; color:#666;">-- OR PAY USING --</p>

        <div class="upi-apps">
            <div class="app-btn" onclick="payApp('GPay')">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/f2/Google_Pay_Logo.svg">
                <span>GPay</span>
            </div>
            <div class="app-btn" onclick="payApp('PhonePe')">
                <img src="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/phonepe-logo-icon.png">
                <span>PhonePe</span>
            </div>
            <div class="app-btn" onclick="payApp('Paytm')">
                <img src="https://business.paytm.com/static-assets/site/images/header/paytm_logo.svg">
                <span>Paytm</span>
            </div>
        </div>

        <button class="btn-done" onclick="finishBooking()">I Have Paid</button>
    </div>

    <script>
        const booking = JSON.parse(localStorage.getItem('temp_booking'));
        if(booking) {
            document.getElementById('displayAmt').innerText = "₹" + booking.price;
        }

        function payApp(name) {
            alert("Opening " + name + "... Please complete payment.");
        }

        function finishBooking() {
            const key = `${booking.name}_${booking.slotId}_${booking.date}`;
            localStorage.setItem(key, "1"); // Slot block chesthunnam
            alert("Payment Successful! Your slot is booked.");
            window.location.href = '../index.html'; 
        }
    </script>
</body>
</html>